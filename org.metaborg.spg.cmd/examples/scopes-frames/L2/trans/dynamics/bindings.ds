module dynamics/bindings

imports
  ds-signatures/L2-sig
  dynamics/heap
  dynamics/environment

signature
  arrows
    readVar(String) --> V
    writeVar(String, V) --> V
    bindVar(String, V) --> Env 
    
rules

  readVar(x) --> read(lookup(x)).

  writeVar(x, v) --> write(lookup(x), v).
  
  E |- bindVar(x, v) --> {x |--> a, E}
  where
    allocate(v) --> a.
  