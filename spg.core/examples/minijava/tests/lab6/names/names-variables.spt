module names-variables

language MiniJava
start symbol Program

fixture [[
	class Main {
		public static void main(String[] args) {
			System.out.println(1);
		}
	}

  [[...]]
]]

test variable name resolution in return exp[[
  	class Foobar {
    	public int getX() {
      		int [[x]];
      		return [[x]];
    	}
  	}
]] resolve #2 to #1

test variable name resolution in exp[[
  	class Foobar {
    	public int getX() {
      		int [[x]];
      		int y;
      		y = [[x]] + 5;
      		return 0;
    	}
  	}
]] resolve #2 to #1

test variable name resolution in assign[[
  	class Foobar {
    	public int initX() {
      		int [[x]];
      		[[x]] = 0;
      		return 0;
    	}
  	}
]] resolve #2 to #1

test array variable name resolution in assign [[
  	class Foobar {
    	public int method() {
      		int[] [[x]];
      		[[x]][0] = 5;
      		return 1;
    	}
  	}
]] resolve #2 to #1

test array index variable name resolution in assign [[
  	class Foobar {
    	public int method() {
      		int[] arr;
       		int [[x]];
      		arr[ [[x]] ] = 5;
      		return 1;
    	}
  	}
]] resolve #2 to #1

test field hidden by variable name resolution [[
   	class Foobar {
    	int x;
    	public int getX() {
      		int y;
      		int [[x]];
      		return [[x]];
    	}
  	}
]] resolve #2 to #1

test array field hidden by variable name resolution [[
   	class Foobar {
    	int[] x;
    	public int initX() {
      		int y;
      		int[] [[x]];
      		[[x]][0] = 0;
      		return 0;
    	}
  	}
]] resolve #2 to #1


//----------------------------------homonyms--------------------------------

test variable name resolution other method var homonym before [[
  	class Foobar {
  		public int method(){
  			int x;
  			return 1;
  		}
  		
    	public int getX() {
      		int [[x]];
      		return [[x]];
    	}
  	}
]] resolve #2 to #1

test variable name resolution other method var homonym after [[
  	class Foobar {
    	public int getX() {
      		int [[x]];
      		return [[x]];
    	}
    	
    	public int method(){
  			int x;
  			return 1;
  		}
  		
  	}
]] resolve #2 to #1

test variable name resolution other class homonym before [[
  	class Foo {
  	}
  	
  	class Foobar {
    	public int getFoo() {
      		int [[Foo]];
      		return [[Foo]];
    	}
  	}
]] resolve #2 to #1

test variable name resolution other class homonym after [[
  	class Foobar {
    	public int getFoo() {
      		int [[Foo]];
      		return [[Foo]];
    	}
  	}
  	
  	class Foo {
  	}
]] resolve #2 to #1


test variable name resolution other class field homonym before [[
  	class Foo {
  		int x;
  	}
  	
  	class Foobar {
    	public int getX() {
      		int [[x]];
      		return [[x]];
    	}
  	}
]] resolve #2 to #1

test variable name resolution other class field homonym after [[
  	class Foobar {
    	public int getX() {
      		int [[x]];
      		return [[x]];
    	}
  	}
  	
  	class Foo {
  		int x;
  	}
  	
]] resolve #2 to #1
